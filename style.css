/* Global Reset and Base */
* {
 	 box-sizing: border-box;
}

body {
 	 margin: 0;
 	 font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
 	 background: #f7f9fc;
 	 color: #333;
 	 line-height: 1.6;
}

/* Header & Navigation */
header {
 	 background: linear-gradient(135deg, #1e3a8a, #1d4ed8);
 	 color: white;
 	 padding: 30px 24px;
 	 box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
 	 text-align: center;
}

header h1 {
 	 margin: 0;
 	 font-size: 28px;
 	 font-weight: 700;
}

header p {
 	 margin: 8px 0 0;
 	 font-size: 14px;
 	 opacity: 0.9;
}

/* Main Layout */
main {
 	 max-width: 1200px; 
 	 margin: 30px auto;
 	 padding: 0 20px;
}

/* ===== BỐ CỤC 3 CỘT (Điều chỉnh cho 2 cột chính + Login) ===== */
.three-column-layout { 
 	 display: flex;
 	 gap: 20px; 
 	 margin-bottom: 25px;
 	 align-items: stretch; /* Giữ các card cùng chiều cao */
}

/* Cột 1 (Upload): Chiếm 2 phần */
#card_select_upload {
 	flex: 2; 
 	min-width: 400px;
 	margin-bottom: 0;
}

/* Cột 2 (Thư mục Đích): Chiếm 1.5 phần */
#card_target_folder {
    flex: 1.5; 
    min-width: 250px;
    margin-bottom: 0;
    display: flex; /* Bật flex cho container để điều chỉnh chiều cao danh sách */
    flex-direction: column;
}

/* Cột 3 (Đăng nhập): Chiếm 1 phần */
#card_login {
 	flex: 1; 
 	min-width: 200px;
 	margin-bottom: 0;
}
/* ======================================= */

/* Card (Container) Style */
.card {
 	 background: #ffffff;
 	 border-radius: 16px; 
 	 padding: 25px 30px;
 	 margin-bottom: 25px;
 	 box-shadow: 0 15px 40px rgba(0, 0, 0, 0.08), 0 2px 5px rgba(0, 0, 0, 0.05);
 	 border: 1px solid #eef1f4;
 	 transition: transform 0.2s;
 	 display: flex; 
 	 flex-direction: column;
}

.card:hover {
 	 transform: translateY(-3px);
 	 box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1), 0 5px 10px rgba(0, 0, 0, 0.05);
}

.card h2 {
 	 margin: 0 0 5px;
 	 font-size: 20px;
 	 color: #1e3a8a;
 	 border-bottom: 1px solid #f0f4f8; 
 	 padding-bottom: 8px;
}

.card small {
 	 display: block;
 	 margin-top: 5px;
 	 color: #6b7280;
 	 font-size: 13px;
 	 margin-bottom: 10px;
}

/* Button Styles */
.buttons-row {
 	 display: flex;
 	 flex-wrap: wrap;
 	 align-items: center;
 	 gap: 12px;
 	 margin-top: 15px;
}

.btn {
 	 border: none;
 	 border-radius: 8px; 
 	 padding: 10px 20px;
 	 font-size: 15px;
 	 font-weight: 600;
 	 cursor: pointer;
 	 display: inline-flex;
 	 align-items: center;
 	 gap: 8px;
 	 transition: all 0.2s ease;
 	 white-space: nowrap;
}

.btn-primary {
 	 background: #2563eb;
 	 color: #ffffff;
 	 box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
}

/* File Input Layout cho Cột Upload/Chọn File */
#card_select_upload .file-section {
 	 display: flex;
 	 flex-wrap: wrap;
 	 gap: 10px;
 	 align-items: center;
}

/* Tiến trình và trạng thái upload */
#upload_button_container {
 	margin-top: 15px;
}

#card_select_upload .status {
 	margin-top: 20px;
}

.btn-primary:hover:not(:disabled) {
 	 background: #1d4ed8;
 	 transform: translateY(-2px);
 	 box-shadow: 0 6px 20px rgba(37, 99, 235, 0.5);
}

.btn-outline {
 	 background: #ffffff;
 	 color: #111827;
 	 border: 1px solid #d1d5db;
}

.btn-outline:hover:not(:disabled) {
 	 background: #f3f4f6;
 	 border-color: #9ca3af;
}

.btn:disabled {
 	 opacity: 0.6;
 	 cursor: not-allowed;
 	 box-shadow: none;
 	 transform: none;
}

/* Status and Feedback */
.status {
 	 margin-top: 10px;
 	 padding: 8px 12px;
 	 border-radius: 6px;
 	 font-size: 14px;
 	 border: 1px solid transparent;
}

.status strong {
 	 font-weight: 700;
}

.status.error {
 	 background: #fef2f2;
 	 color: #dc2626;
 	 border-color: #fca5a5;
}

.status.success {
 	 background: #f0fdf4;
 	 color: #16a34a;
 	 border-color: #86efac;
}

/* Progress Bar */
.progress-bar {
 	 width: 100%;
 	 height: 10px;
 	 background: #e5e7eb;
 	 border-radius: 5px;
 	 margin-top: 8px;
 	 overflow: hidden;
}

.progress-bar-inner {
 	 height: 100%;
 	 background: #22c55e;
 	 transition: width 0.3s ease;
}

/* Table Styles */
table {
 	 width: 100%;
 	 border-collapse: separate; 
 	 border-spacing: 0;
 	 margin-top: 20px;
 	 font-size: 14px;
 	 border-radius: 10px;
 	 overflow: hidden; 
 	 box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
}

th, td {
 	 padding: 12px 15px;
 	 text-align: left;
 	 border-bottom: 1px solid #eef1f4;
}

tr:last-child td {
 	 border-bottom: none;
}

th {
 	 background: #f0f4f8;
 	 font-weight: 600;
 	 color: #4b5563;
 	 text-transform: uppercase;
 	 font-size: 12px;
}

.folder-row {
 	 cursor: pointer;
 	 transition: background 0.15s;
}

.folder-row:hover {
 	 background: #eef1f4;
}

tr:not(.folder-row):hover {
 	 background: #f9fafb;
}

/* Tags and Links */
.tag {
 	 display: inline-flex;
 	 align-items: center;
 	 padding: 4px 10px;
 	 border-radius: 999px;
 	 background: #dbeafe;
 	 color: #1e3a8a;
 	 font-size: 12px;
 	 font-weight: 600;
}

.link {
 	 color: #2563eb;
 	 text-decoration: none;
 	 font-weight: 500;
}

.link:hover {
 	 text-decoration: underline;
}

/* Breadcrumb/Path Style */
#breadcrumb_path {
 	 padding: 10px 15px;
 	 background: #ffffff;
 	 border: 1px solid #eef1f4;
 	 border-radius: 8px;
 	 font-size: 14px;
 	 margin-bottom: 15px;
}

/* CSS cho Danh sách Thư mục Đích (Giới hạn Chiều cao) */
#target_folder_list {
    flex-grow: 1; 
    max-height: 400px; 
    overflow-y: auto; 
    margin-top: 10px;
    padding: 5px;
    border: 1px solid #eef1f4;
    border-radius: 8px;
}

.folder-item {
    padding: 8px 10px;
    cursor: pointer;
    border-radius: 6px;
    transition: background 0.15s;
    margin-bottom: 2px;
    font-size: 14px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.folder-item:hover {
    background: #f0f4f8;
}

.folder-item.selected {
    background: #dbeafe;
    color: #1e3a8a;
    font-weight: 600;
}


/* Footer */
footer {
 	 text-align: center;
 	 font-size: 13px;
 	 color: #9ca3af;
 	 padding: 20px 0;
}

/* Responsive Adjustments */
@media (max-width: 992px) { 
 	.three-column-layout { 
 	 	 	 display: block;
 	 	 	 margin-bottom: 0;
 	 }
 	.three-column-layout > .card {
 	 	 	 margin-bottom: 25px; 
 	 	 	 flex: unset; 
 	 }
 	
 	#card_select_upload .file-section {
 		flex-direction: column;
 		align-items: stretch;
 	}
 	#card_select_upload .file-section .btn {
 		width: 100%;
 		justify-content: center;
 	}
}

@media (max-width: 768px) {
 	 header {
 	 	 padding: 20px 15px;
 	 }
 	 
 	 main {
 	 	 margin: 20px auto;
 	 	 padding: 0 10px;
 	 }

 	 .card {
 	 	 padding: 15px;
 	 	 border-radius: 12px;
 	 }

 	 .btn {
 	 	 padding: 8px 15px;
 	 	 font-size: 14px;
 	 }

 	/* Responsive Table */
 	 table, thead, tbody, th, td, tr {
 	 	 display: block;
 	 	 width: 100%;
 	 }
 	 
 	 thead tr {
 	 	 position: absolute;
 	 	 top: -9999px;
 	 	 left: -9999px;
 	 }

 	 tr {
 	 	 border: 1px solid #eef1f4;
 	 	 margin-bottom: 10px;
 	 	 border-radius: 8px;
 	 }
 	 
 	 td {
 	 	 border: none;
 	 	 position: relative;
 	 	 padding-left: 50%;
 	 	 text-align: right;
 	 	 font-size: 14px;
 	 }
 	 
 	 td::before {
 	 	 content: attr(data-label);
 	 	 position: absolute;
 	 	 left: 6px;
 	 	 width: 45%;
 	 	 padding-right: 10px;
 	 	 white-space: nowrap;
 	 	 text-align: left;
 	 	 font-weight: 600;
 	 	 color: #4b5563;
 	 	 font-size: 12px;
 	 }
 	 
 	 .folder-row:hover {
 	 	 background: #eef1f4;
 	 }
}

/* Thêm CSS này để giữ chiều cao cố định cho danh sách thư mục đích */
#target_folder_list {
	 max-height: 350px; /* Điều chỉnh chiều cao tùy ý */
	 overflow-y: auto; /* Bật thanh cuộn dọc khi nội dung vượt quá chiều cao */
	 margin-top: 10px;
}

/* Thêm CSS để highlight mục đang được chọn (từ logic renderTargetFolderItem) */
.folder-item {
	 padding: 8px 10px;
	 border-radius: 6px;
	 cursor: pointer;
	 transition: background-color 0.15s;
}

.folder-item:hover {
	 background-color: #f3f4f6;
}
.folder-item.active-target {
	 background-color: #e5e7eb; /* Màu xám nhạt để chỉ trạng thái đang được chọn làm đích */
	 font-weight: 600;
}